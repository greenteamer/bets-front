(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(18),o=t.n(c),l=t(114),i=t(14),u=t(3),m=(t(92),t(4)),s=t(31),d=t(46),f=t(1);function b(){var e=Object(m.a)(["\n    ",";\n    background-color: ",";\n  "]);return b=function(){return e},e}var p=Object(s.a)({},d.a,{palette:Object(s.a)({},d.a.palette,{slate:"#455266",lightGreyBlue:"#aeb8c7",iceBlue:"#eef1f4",shamrockGreen:"#00cf4f",primary:[Object(f.b)("slate"),Object(f.b)("lightGreyBlue"),Object(f.b)("iceBlue")],secondary:[Object(f.b)("shamrockGreen")]}),white:"white",Button:Object(u.q)(b(),d.a.Button,function(e){return e.secondary?Object(f.b)("shamrockGreen"):Object(f.b)("slate")})}),h=t(20),g=t.n(h),O=t(7),v=t(9),j=t(10),E=t(12),y=t(11),w=t(13),x=t(109),k=t(110),C=t(16),I=t(29),A=t.n(I);function S(){var e=Object(m.a)(["\n  {\n    me {\n      id\n      agentId\n      username\n      email\n      role\n      ...UserPlayers\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function P(){var e=Object(m.a)(["\n  { \n    me {\n      id\n      agentId\n      username\n      email\n      role\n      ...UserPlayers\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function B(){var e=Object(m.a)(["\n  { \n    users {\n      id\n      username\n      email\n      role\n    }\n  }\n"]);return B=function(){return e},e}function T(){var e=Object(m.a)(["\n  fragment UserPlayers on User {\n    players {\n      id\n      agentId\n      username\n      email\n      role\n    }\n  }\n"]);return T=function(){return e},e}var L=g()(T()),$=g()(B()),N=g()(P(),L),q=g()(S(),L);function F(){var e=Object(m.a)(["\n  {\n    sports {\n      key\n      active\n      group\n      details\n      title\n    }\n  }\n"]);return F=function(){return e},e}var U=g()(F());function _(){var e=Object(m.a)(["\n  query ($sport_key:String!) {\n    odds(sport_key:$sport_key) {\n      sport_key\n      sport_nice\n      teams\n      commence_time\n      home_team\n      sites {\n        site_key\n        site_nice\n        last_update\n        odds {\n          h2h\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}var Q=g()(_());function D(){var e=Object(m.a)(["\n"]);return D=function(){return e},e}function G(){var e=Object(m.a)(["\n  padding: 1rem;\n  margin: 1rem 0;\n"]);return G=function(){return e},e}function H(){var e=Object(m.a)(["\n  text-align: center;\n  text-transform: uppercase;\n"]);return H=function(){return e},e}function M(){var e=Object(m.a)(["\n  min-width: 30rem;\n  padding: 1rem;\n"]);return M=function(){return e},e}function z(){var e=Object(m.a)(["\n  width: 100%;\n"]);return z=function(){return e},e}var R=function(e){var n=e.me,t=e.onLogout;return r.a.createElement(W,null,r.a.createElement(J,null,n.username),r.a.createElement(K,null,r.a.createElement(Y,{title:"Balance",value:0}),r.a.createElement(Y,{title:"Available",value:0}),r.a.createElement(Y,{title:"At Risk",value:0})),r.a.createElement(V,{onClick:t},"Logout"))},Y=function(e){var n=e.title,t=e.value;return r.a.createElement("div",null,n,": ",t)},V=Object(u.r)(u.d)(z()),W=u.r.div(M()),J=u.r.h2(H()),K=u.r.div(G());u.r.div(D());function X(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return Z=function(){return e},e}function ee(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  color: white;\n"]);return ee=function(){return e},e}var ne=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props.me,t=function(){A.a.remove("token"),(0,e.props.data.refetch)()};return n?r.a.createElement(te,null,r.a.createElement(u.p.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(re,{onClick:e.show},"Profile"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.p.Hide},e)),r.a.createElement(u.p,Object.assign({slide:!0,align:"right"},e),r.a.createElement(R,{me:n,onLogout:t})))})):r.a.createElement(te,null,r.a.createElement(ae,{to:"/sign-in"},"Sing In"))}}]),n}(a.Component),te=C.c.div(ee()),ae=Object(C.c)(x.a)(Z()),re=C.c.span(X()),ce=Object(k.a)(Object(i.graphql)(q)(ne)),oe={visibilityFilter:"SHOW_ALL",user:null},le=r.a.createContext(oe),ie=function(e){return function(n){return r.a.createElement(le.Consumer,null,function(t){return r.a.createElement(e,Object.assign({},n,t))})}},ue=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state=oe,t.setVisibilityFilter=function(e){t.setState({visibilityFilter:e})},t.updateUserInfo=function(e){t.setState({user:e})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return r.a.createElement(le.Provider,{value:{visibilityFilter:this.state.visibilityFilter,setVisibilityFilter:this.setVisibilityFilter,user:this.state.user,updateUserInfo:this.updateUserInfo}},this.props.children)}}]),n}(r.a.Component),me={ADMIN:"ADMIN",AGENT:"AGENT",PLAYER:"PLAYER"},se="#eef1f4";function de(){var e=Object(m.a)(["\n  display: flex;\n  align-self: flex-start;\n"]);return de=function(){return e},e}function fe(){var e=Object(m.a)(["\n  font-size: 3.5rem;\n"]);return fe=function(){return e},e}function be(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return be=function(){return e},e}function pe(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]);return pe=function(){return e},e}function he(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n"]);return he=function(){return e},e}function ge(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return ge=function(){return e},e}function Oe(){var e=Object(m.a)(["\n  display: flex;\n  padding: 1rem;\n  justify-content: space-between;\n  background: #376f9a;\n  color: white;\n"]);return Oe=function(){return e},e}var ve=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props.me,n=Object(O.get)(e,["role"]);return r.a.createElement(je,null,r.a.createElement(xe,null,r.a.createElement(ke,null,"Positive Bets"),r.a.createElement(Ce,null,"Make bets is easy as posible")),r.a.createElement(ye,null,r.a.createElement(we,null,r.a.createElement(Ee,{to:"/"},"Home"),r.a.createElement(Ee,{to:"/games"},"Games"),n===me.ADMIN&&r.a.createElement(Ee,{to:"/admin"},"Admin"),n===me.AGENT&&r.a.createElement(Ee,{to:"/agent"},"Agent")),r.a.createElement(ce,{me:e})))}}]),n}(a.Component),je=C.c.div(Oe()),Ee=Object(C.c)(x.a)(ge()),ye=C.c.div(he()),we=C.c.div(pe()),xe=C.c.div(be()),ke=C.c.div(fe()),Ce=C.c.div(de()),Ie=Object(k.a)(ie(ve)),Ae=t(115),Se=t(111),Pe=t(113),Be=function(){return r.a.createElement("h1",null,"Home 1")},Te=t(59),Le=t.n(Te);function $e(){var e=Object(m.a)(["\n    background: #376f9a;\n    color: white;\n  "]);return $e=function(){return e},e}function Ne(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: box-shadow 0.5s;\n  box-shadow: 1px 2px 20px rgba(0,0,0,0.1);\n  border-radius: 10rem;\n  padding: 0.5rem 2rem;\n  ",";\n  &:hover {\n    cursor: pointer;\n    box-shadow: 1px 2px 20px rgba(0,0,0,0.2);\n  }\n  {...props}\n"]);return Ne=function(){return e},e}var qe=C.c.div(Ne(),function(e){return e.primary&&Object(C.b)($e())});function Fe(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return Fe=function(){return e},e}var Ue=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={value:""},t.clearState=function(){t.setState({value:""})},t.handleOnSuccess=function(e){return function(){var n=t.state.value;(0,t.props.onSuccess)(n),t.clearState(),e.hide()}},t.handleOnCancel=function(e){return function(){(0,t.props.onCancel)(),t.clearState(),e.hide()}},t.handleOnChange=function(e){var n=e.target.value;t.setState({value:n})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props.children,t=this.state.value;return r.a.createElement(u.n.Container,null,function(a){return r.a.createElement(u.b,{relative:!0},r.a.createElement(_e,Object.assign({as:u.n.Toggle},a),n),r.a.createElement(u.n,Object.assign({fade:!0,slide:!0,expand:!0,hideOnClickOutside:!0},a),r.a.createElement(u.n.Arrow,null),r.a.createElement(u.b,null,r.a.createElement(u.e,null,r.a.createElement(u.j,{id:"input1",type:"number",placeholder:"Your bet",value:t,onChange:e.handleOnChange})),r.a.createElement(u.g,{marginTop:8},r.a.createElement(u.d,{secondary:!0,onClick:e.handleOnSuccess(a)},"Ok"),r.a.createElement(u.d,{onClick:e.handleOnCancel(a)},"Cancel")))))})}}]),n}(r.a.Component),_e=Object(u.r)(u.d)(Fe(),Object(f.b)("white"),Object(f.b)("black")),Qe=Ue;function De(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]);return De=function(){return e},e}function Ge(){var e=Object(m.a)(["\n  text-align: center;\n  border-bottom: 1px solid #c8e0f5;\n  padding: 1rem;\n  font-size: 2rem;\n"]);return Ge=function(){return e},e}function He(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 1px 2px 50px rgba(0,0,0,0.1);\n"]);return He=function(){return e},e}C.c.div(He()),C.c.div(Ge()),C.c.div(De());function Me(){var e=Object(m.a)(["\n  html {\n    @import url('https://fonts.googleapis.com/css?family=Rubik:300,400,500');\n    font-family: 'Rubik', sans-serif;\n    font-weight: 400;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 8px;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  body, a, p, span {\n    font-size: 1.75rem;\n  }\n\n  h1 {\n    font-weight: 400;\n  }\n"]);return Me=function(){return e},e}function ze(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  padding: 2rem;\n"]);return ze=function(){return e},e}C.c.div(ze(),se);var Re=Object(C.a)(Me());function Ye(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return Ye=function(){return e},e}function Ve(){var e=Object(m.a)(["\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n"]);return Ve=function(){return e},e}function We(){var e=Object(m.a)(["\n  font-size: 1.25rem;\n  padding: 1rem;\n  color: ",";\n"]);return We=function(){return e},e}function Je(){var e=Object(m.a)(["\n  margin-left: 1rem;\n"]);return Je=function(){return e},e}function Ke(){var e=Object(m.a)(["\n  align-items: center;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-left-radius: ",";\n  border-bottom-right-radius: ",";\n  &:hover {\n    box-shadow: 0 0 1px rgba(0,0,0,0.5); \n  }\n"]);return Ke=function(){return e},e}var Xe=Object(u.r)(u.f)(Ke(),Object(f.b)("white"),function(e){return e.top?"0.5rem":0},function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"},function(e){return e.top?0:"0.5rem"}),Ze=u.r.div(Je()),en=u.r.div(We(),Object(f.b)("slate")),nn=(u.r.img(Ve(),function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"}),Object(u.r)(u.d)(Ye(),Object(f.b)("white"),Object(f.b)("black"))),tn=function(e){var n=e.team,t=e.h2h,a=e.top;return r.a.createElement(Xe,{template:'\n  "a b c d e" 40px / 40px 1fr 120px 120px 120px\n',top:a},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(en,null,"Logo")),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(Ze,null,n)),r.a.createElement(u.f.Item,{area:"c"},r.a.createElement(nn,null,0)),r.a.createElement(u.f.Item,{area:"d"},r.a.createElement(nn,null,0)),r.a.createElement(u.f.Item,{area:"e"},r.a.createElement(Qe,{onSuccess:function(e){return console.log("&&& on create: ",{value:e})},onCancel:function(e){return console.log("&&& on cancel: ",{value:e})}},t)))};function an(){var e=Object(m.a)(["\n  height: 1px;\n  width: 100%;\n  margin: 0;\n"]);return an=function(){return e},e}function rn(){var e=Object(m.a)(["\n  margin-bottom: 2rem;\n"]);return rn=function(){return e},e}function cn(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.5rem;\n  /* height: 100%; */\n"]);return cn=function(){return e},e}var on=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=(e.theme,e.team1),t=e.team2,a=(e.homeTeam,e.commenceTime),c=(e.sites,e.h2h);e.gutter;return r.a.createElement(mn,{template:'\n      "a b" auto / 120px auto\n    ',gap:"16px"},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(un,null,r.a.createElement("div",null,Le()(1e3*a).format("MMM DD")),r.a.createElement("div",null,Le()(1e3*a).format("h:mm a")))),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(tn,{team:n,h2h:c[0],top:!0}),r.a.createElement(sn,null),r.a.createElement(tn,{team:t,h2h:c[1]})))}}]),n}(r.a.Component),ln=Object(u.s)(on),un=u.r.div(cn(),Object(f.b)("white")),mn=Object(u.r)(u.f)(rn()),sn=u.r.div(an()),dn=function(e){if(e<2){var n=Number((1/(e-1)*100).toFixed(0));return"-".concat(n)}var t=Number((100*e-100).toFixed(0));return"+".concat(t)};function fn(){var e=Object(m.a)(["\n  text-align: center;\n  /* justify-items: center; */\n"]);return fn=function(){return e},e}function bn(){var e=Object(m.a)(["\n  padding: 0.5rem 0;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n"]);return bn=function(){return e},e}function pn(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return pn=function(){return e},e}var hn=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=e.theme,t=e.odds;Object(O.get)(this.props,["match","params","groupName"]);if(0===t.length)return r.a.createElement("p",null,"no odds");return r.a.createElement("div",null,r.a.createElement(u.h,{as:"h4"},t[0].sport_nice),r.a.createElement(u.f,{template:'\n      "a a1 ab ac ad" auto\n      "c c c c c" auto / 136px auto 120px 120px 120px\n    ',gap:"16px 0"},r.a.createElement(On,{area:"a",left:!0},r.a.createElement(vn,null,"Date 1")),r.a.createElement(On,{area:"a1"}),r.a.createElement(On,{area:"ab"},r.a.createElement(vn,null,"Spread")),r.a.createElement(On,{area:"ac"},r.a.createElement(vn,null,"Total")),r.a.createElement(On,{area:"ad",right:!0},r.a.createElement(vn,null,"M Line")),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},Object(O.map)(t,function(e,n){return r.a.createElement(ln,{key:n,gutter:"1rem 0",team1:e.teams[0],team2:e.teams[1],homeTeam:e.home_team,commenceTime:e.commence_time,sites:e.sites,h2h:function(e){var n=Object(O.get)(e,["sites"]),t=Object(O.get)(n[0],["odds","h2h"]);return Object(O.map)(t,dn)}(e)})}))))}}]),n}(r.a.Component),gn=Object(u.s)(hn),On=(Object(u.r)(u.m)(pn(),Object(f.b)("grayscale",-2)),Object(u.r)(u.f.Item)(bn(),Object(f.b)("white"),function(e){return e.left?"0.5rem":0},function(e){return e.left?"0.5rem":0},function(e){return e.right?"0.5rem":0},function(e){return e.right?"0.5rem":0})),vn=u.r.div(fn()),jn=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=Object(O.get)(this.props,["match","params","groupName"]);return r.a.createElement(i.Query,{query:Q,variables:{sport_key:e}},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["odds"]);return t?r.a.createElement(gn,{odds:t}):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component);function En(){var e=Object(m.a)(["\n  padding: 1rem;\n"]);return En=function(){return e},e}function yn(){var e=Object(m.a)(["\n  display: block;\n  padding: 0.5rem;\n  color: ",";\n  text-decoration: none;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return yn=function(){return e},e}function wn(){var e=Object(m.a)(["\n  color: ",";\n  text-decoration: none;\n"]);return wn=function(){return e},e}function xn(){var e=Object(m.a)(["\n  color: ",";\n"]);return xn=function(){return e},e}function kn(){var e=Object(m.a)(["\n  display: block;\n  text-align: left;\n  width: 100%;\n  height: 3rem;\n  line-height: 3rem;\n"]);return kn=function(){return e},e}function Cn(){var e=Object(m.a)(["\n  /* width: 25rem; */\n  background-color: ",";\n  padding: 1rem;\n"]);return Cn=function(){return e},e}var In=function(e){e.match;var n=e.tree;return r.a.createElement(u.c,null,r.a.createElement(An,null,r.a.createElement(Pn,{as:"h4"},"Games Panel"),r.a.createElement(u.k,null,Object(O.map)(Object.keys(n),function(e){return r.a.createElement(u.i.Container,{key:e},function(t){return r.a.createElement("li",null,r.a.createElement(u.i.Toggle,Object.assign({as:Sn},t),e),r.a.createElement(Tn,t,Object(O.map)(n[e],function(e,n){return r.a.createElement(Sn,{key:n},r.a.createElement(Bn,{to:e.url},e.title))})))})}))))},An=Object(u.r)(u.l)(Cn(),Object(f.b)("primary",0)),Sn=Object(u.r)(u.d)(kn()),Pn=Object(u.r)(u.h)(xn(),Object(f.b)("blackText")),Bn=Object(u.r)(x.a)(wn(),Object(f.b)("blackText")),Tn=(u.r.a(yn(),Object(f.b)("blackText")),Object(u.r)(u.i)(En())),Ln=Object(u.s)(function(e){var n=e.theme,t=e.children,a=e.sidebar,c=$n(a);return r.a.createElement(u.f,{template:c},a&&r.a.createElement(u.f.Item,{area:"b",backgroundColor:n.palette.slate},a),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},r.a.createElement(u.b,{margin:"2rem"},t)))}),$n=function(e){return e?'\n    "b c c" auto / 1fr 2fr 2fr\n  ':'\n    "c c c" auto / 1fr 2fr 2fr\n  '},Nn=function(e){var n=e.match;return r.a.createElement(i.Query,{query:U},function(e){e.loading,e.client;var t=e.data,a=Object(O.get)(t,["sports"]),c=Object(O.map)(a,function(e){return{group:e.group,title:e.title,url:"/games/".concat(e.key)}}),o=Object(O.groupBy)(c,"group");return r.a.createElement(Ln,{sidebar:r.a.createElement(In,{match:n,tree:o})},r.a.createElement(Se.a,{path:"".concat(n.path,"/:groupName"),component:jn}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))})},qn=t(28);function Fn(){var e=Object(m.a)(["\n  mutation ($username: String!, $email: String!, $password: String!, $role: String!, $agentId: ID) {\n    signUp(username: $username, email: $email, password: $password, role: $role, agentId: $agentId) {\n      id\n      username\n      email\n      role\n      agentId\n    }\n  }\n"]);return Fn=function(){return e},e}function Un(){var e=Object(m.a)(["\n  mutation ($username: String!, $password: String!) {\n    signIn(login: $username, password: $password) {\n      token\n      me {\n        id\n        agentId\n        username\n        email\n        role\n        players {\n          id\n          agentId\n          email\n          username\n          role\n        }\n      }\n    }\n  }\n"]);return Un=function(){return e},e}var _n=g()(Un()),Qn=g()(Fn());function Dn(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return Dn=function(){return e},e}var Gn=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me;console.log(">>>> handle on add user me: ",{me:a});var r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:me.AGENT}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(qn.a)({},e,n.target.value))}},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(Mn,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),Hn=Object(i.graphql)(Qn)(Gn),Mn=u.r.div(Dn(),Object(f.b)("grayscale",-2));function zn(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return zn=function(){return e},e}var Rn=function(e){var n=e.player;return r.a.createElement("div",{key:n.id,style:{backgroundColor:"#eaeaea",padding:"3px",marginBottom:"3px"}},r.a.createElement("div",null,n.username),r.a.createElement("div",null,n.email))},Yn=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return console.log("**** Player List props: ",{props:this.props}),r.a.createElement(i.Query,{query:$,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["users"]),a=Object(O.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Add user"),r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e),"Add"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(Vn,Object.assign({fade:!0,slide:!0},e),r.a.createElement(Hn,{me:a,onHide:e.hide})))}),r.a.createElement("h3",null,"User list ",t.length),Object(O.map)(t,function(e){return r.a.createElement(Rn,{player:e,key:e.id})})):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),Vn=Object(u.r)(u.m)(zn(),Object(f.b)("grayscale",-2)),Wn={users:[{title:"list",url:"/admin/users"}]},Jn=function(e){var n=e.match;return r.a.createElement(Ln,{sidebar:r.a.createElement(In,{match:n,tree:Wn})},r.a.createElement(Se.a,{path:"".concat(n.path,"/users"),component:Yn}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function Kn(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return Kn=function(){return e},e}var Xn=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me,r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:me.PLAYER,agentId:a.id},update:function(e,n){var t=n.data,a=Object(O.get)(t,["signUp"]),r=e.readQuery({query:q});e.writeQuery({query:q,data:{me:Object(s.a)({},r.me,{players:r.me.players.concat([a])})}})}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(qn.a)({},e,n.target.value))}},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(et,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),Zn=Object(i.graphql)(Qn)(Xn),et=u.r.div(Kn(),Object(f.b)("grayscale",-2));function nt(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return nt=function(){return e},e}var tt=function(e){var n=e.player;return r.a.createElement("div",{key:n.id,style:{backgroundColor:"#eaeaea",padding:"3px",marginBottom:"3px"}},r.a.createElement("div",null,n.username),r.a.createElement("div",null,n.email))},at=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return console.log("**** Player List props: ",{props:this.props}),r.a.createElement(i.Query,{query:N,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["me","players"]),a=Object(O.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e),"Sign Up player"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(rt,Object.assign({fade:!0,slide:!0},e),r.a.createElement(Zn,{me:a,onHide:e.hide})))}),r.a.createElement("h3",null,"Players list ",t.length),Object(O.map)(t,function(e){return r.a.createElement(tt,{player:e,key:e.id})})):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),rt=Object(u.r)(u.m)(nt(),Object(f.b)("grayscale",-2)),ct={players:[{title:"list",url:"/agent/players"}]},ot=function(e){var n=e.match;return r.a.createElement(Ln,{sidebar:r.a.createElement(In,{match:n,tree:ct})},r.a.createElement(Se.a,{path:"".concat(n.path,"/players"),component:at}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function lt(){var e=Object(m.a)(["\n          {\n            messages {\n              id\n              text\n              createdAt\n            }\n          }\n        "]);return lt=function(){return e},e}function it(){var e=Object(m.a)(["\n  mutation ($text: String!) {\n    createMessage(text: $text) {\n      message {\n        id\n        text\n      }\n      me {\n        id\n        username\n        messages {\n          id\n          text\n        }\n      }\n    }\n  }\n"]);return it=function(){return e},e}function ut(){var e=Object(m.a)(["\n  display: block;\n  border: 1px solid #366d9d;\n  padding: 1rem;\n  margin: 1rem;\n"]);return ut=function(){return e},e}var mt=C.c.div(ut()),st=g()(it()),dt=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={text:""},t.handleOnChangeText=function(e){t.setState({text:e.target.value})},t.handleOnSave=function(){(0,t.props.mutate)({variables:{text:t.state.text}}).then(function(e){console.log(">>>> mutate result: ",{result:e})}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state.text;return r.a.createElement(i.Query,{query:g()(lt())},function(t){var a=t.loading,c=t.error,o=t.data;return a?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Error..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"text"),r.a.createElement("input",{type:"text",value:n,onChange:e.handleOnChangeText})),r.a.createElement(qe,{onClick:e.handleOnSave},"Save"),o.messages.map(function(e){var n=e.id,t=e.text,a=e.createdAt;return r.a.createElement(mt,{key:n},r.a.createElement("p",null,t),r.a.createElement("p",null,a))}))})}}]),n}(a.Component),ft=Object(i.graphql)(st)(dt);function bt(){var e=Object(m.a)(["\n  background-color: white;\n"]);return bt=function(){return e},e}function pt(){var e=Object(m.a)(["\n  min-width: 300px;\n  background-color: ",";\n"]);return pt=function(){return e},e}function ht(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return ht=function(){return e},e}function gt(){var e=Object(m.a)(["\n  float: right;\n"]);return gt=function(){return e},e}var Ot=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",password:""},t.handleOnChange=function(e){return function(n){t.setState(Object(qn.a)({},e,n.target.value))}},t.handleOnSignIn=function(){var e=t.props.mutate,n=t.state;e({variables:{username:n.username,password:n.password},update:function(e,n){var t=n.data.signIn.me;console.log(">>> sign in update: ",{me:t}),e.writeQuery({query:q,data:{me:t}})}}).then(function(e){var n=e.data.signIn,a=n.token;n.me;A.a.set("token",a),t.props.history.push("/games")}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password;return r.a.createElement(Ln,null,r.a.createElement(u.m.Container,null,function(n){return r.a.createElement(Et,null,r.a.createElement(wt,{visible:!0}),r.a.createElement(yt,Object.assign({fade:!0,slide:!0},n,{visible:!0}),r.a.createElement("h3",null,"Sign In"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"email or username",value:t,onChange:e.handleOnChange("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:e.handleOnChange("password")})),r.a.createElement(u.d,{onClick:e.handleOnSignIn,primary:!0},"Sign In"),r.a.createElement(jt,{to:"/"},"go to home page")))}))}}]),n}(a.Component),vt=Object(i.graphql)(_n)(ie(Ot)),jt=Object(u.r)(x.a)(gt()),Et=u.r.div(ht(),Object(f.b)("grayscale",-2)),yt=Object(u.r)(u.m)(pt(),Object(f.b)("grayscale",-2)),wt=Object(u.r)(u.a)(bt()),xt=function(e,n){return!!e&&!(n&&!n.includes(e.role))},kt=function(e){var n=e.me;return r.a.createElement("main",null,r.a.createElement(Ae.a,null,r.a.createElement(Se.a,{exact:!0,path:"/",component:Be}),r.a.createElement(Se.a,{path:"/games",component:Nn}),r.a.createElement(Se.a,{path:"/admin",render:function(e){return xt(n,[me.ADMIN])?r.a.createElement(Jn,e):r.a.createElement(Pe.a,{to:"/sign-in"})}}),r.a.createElement(Se.a,{path:"/agent",render:function(e){return xt(n,[me.AGENT,me.ADMIN])?r.a.createElement(ot,e):r.a.createElement(Pe.a,{to:"/sign-in"})}}),r.a.createElement(Se.a,{path:"/schedule",component:ft}),r.a.createElement(Se.a,{path:"/sign-in",component:vt})))},Ct=function(){return r.a.createElement(i.Query,{query:q,fetchPolicy:"network-only"},function(e){e.client,e.loading;var n=e.data,t=Object(O.get)(n,["me"]);return r.a.createElement("div",null,r.a.createElement(Ie,{me:t}),r.a.createElement(kt,{me:t}),r.a.createElement(Re,null))})},It=t(52),At=t(76),St=t(73),Pt=t(74),Bt=t(112),Tt=Object(At.a)({uri:"http://localhost:5000/graphql"}),Lt=Object(St.a)(function(e,n){var t=n.headers,a=A.a.get("token");return{headers:Object(s.a)({},t,{Authorization:a||""})}}),$t=Object(Pt.a)(function(e){var n=e.graphQLErrors,t=e.networkError,a=function(e){var n=e.graphQLErrors,t=e.networkError;return n?n.map(function(e){switch(e.extensions.code){case"UNAUTHENTICATED":e.statusCode=401;break;case"FORBIDDEN":e.statusCode=403}return e}):[t]}({graphQLErrors:n,networkError:t});console.log("^^^^ errors handler: ",{graphQLErrors:n,networkError:t}),a.map(function(e){401===e.statusCode&&(A.a.set("token",""),window.location.href="/sign-in")})}),Nt=new It.a({link:$t.concat(Lt.concat(Tt)),cache:new Bt.a});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(ue,null,r.a.createElement(i.ApolloProvider,{client:Nt},r.a.createElement(u.o,{theme:p},r.a.createElement(Ct,null))))),document.getElementById("root")),window.client=Nt,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,n,t){e.exports=t(101)},92:function(e,n,t){}},[[79,2,1]]]);
//# sourceMappingURL=main.555850eb.chunk.js.map