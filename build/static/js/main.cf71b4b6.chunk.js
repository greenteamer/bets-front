(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(18),o=t.n(c),l=t(116),i=t(14),u=t(3),s=(t(95),t(4)),m=t(31),d=t(60),f=t(1);function p(){var e=Object(s.a)(["\n    ",";\n    background-color: ",";\n  "]);return p=function(){return e},e}var b=Object(m.a)({},d.a,{palette:Object(m.a)({},d.a.palette,{slate:"#455266",lightGreyBlue:"#aeb8c7",iceBlue:"#eef1f4",shamrockGreen:"#00cf4f",primary:[Object(f.b)("slate"),Object(f.b)("lightGreyBlue"),Object(f.b)("iceBlue")],secondary:[Object(f.b)("shamrockGreen")]}),white:"white",Button:Object(u.q)(p(),d.a.Button,function(e){return e.secondary?Object(f.b)("shamrockGreen"):Object(f.b)("slate")})}),h=t(20),g=t.n(h),O=t(7),v=t(9),j=t(10),E=t(12),y=t(11),w=t(13),x=t(112),k=t(113),C=t(16),I=t(29),A=t.n(I);function S(){var e=Object(s.a)(["\n  {\n    me {\n      id\n      agentId\n      username\n      email\n      role\n      ...UserPlayers\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function P(){var e=Object(s.a)(["\n  { \n    me {\n      id\n      agentId\n      username\n      email\n      role\n      ...UserPlayers\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function B(){var e=Object(s.a)(["\n  { \n    users {\n      id\n      username\n      email\n      role\n    }\n  }\n"]);return B=function(){return e},e}function T(){var e=Object(s.a)(["\n  fragment UserPlayers on User {\n    players {\n      id\n      agentId\n      username\n      email\n      role\n    }\n  }\n"]);return T=function(){return e},e}var L=g()(T()),$=g()(B()),M=g()(P(),L),N=g()(S(),L);function q(){var e=Object(s.a)(["\n  {\n    sports {\n      key\n      active\n      group\n      details\n      title\n    }\n  }\n"]);return q=function(){return e},e}var F=g()(q());function U(){var e=Object(s.a)(["\n  query ($sport_key:String!) {\n    odds(sport_key:$sport_key) {\n      sport_key\n      sport_nice\n      teams\n      commence_time\n      home_team\n      sites {\n        site_key\n        site_nice\n        last_update\n        odds {\n          h2h\n        }\n      }\n    }\n  }\n"]);return U=function(){return e},e}var _=g()(U());function D(){var e=Object(s.a)(["\n"]);return D=function(){return e},e}function G(){var e=Object(s.a)(["\n  padding: 1rem;\n  margin: 1rem 0;\n"]);return G=function(){return e},e}function Q(){var e=Object(s.a)(["\n  text-align: center;\n  text-transform: uppercase;\n"]);return Q=function(){return e},e}function H(){var e=Object(s.a)(["\n  min-width: 30rem;\n  padding: 1rem;\n"]);return H=function(){return e},e}function z(){var e=Object(s.a)(["\n  width: 100%;\n"]);return z=function(){return e},e}var R=function(e){var n=e.me,t=e.onLogout;return r.a.createElement(W,null,r.a.createElement(J,null,n.username),r.a.createElement(K,null,r.a.createElement(Y,{title:"Balance",value:0}),r.a.createElement(Y,{title:"Available",value:0}),r.a.createElement(Y,{title:"At Risk",value:0})),r.a.createElement(V,{onClick:t},"Logout"))},Y=function(e){var n=e.title,t=e.value;return r.a.createElement("div",null,n,": ",t)},V=Object(u.r)(u.d)(z()),W=u.r.div(H()),J=u.r.h2(Q()),K=u.r.div(G());u.r.div(D());function X(){var e=Object(s.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(s.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return Z=function(){return e},e}function ee(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  color: white;\n"]);return ee=function(){return e},e}var ne=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props.me,t=function(){A.a.remove("token"),(0,e.props.data.refetch)()};return n?r.a.createElement(te,null,r.a.createElement(u.p.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(re,{onClick:e.show},"Profile"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.p.Hide},e)),r.a.createElement(u.p,Object.assign({slide:!0,align:"right"},e),r.a.createElement(R,{me:n,onLogout:t})))})):r.a.createElement(te,null,r.a.createElement(ae,{to:"/sign-in"},"Sing In"))}}]),n}(a.Component),te=C.c.div(ee()),ae=Object(C.c)(x.a)(Z()),re=C.c.span(X()),ce=Object(k.a)(Object(i.graphql)(N)(ne)),oe={visibilityFilter:"SHOW_ALL",user:null},le=r.a.createContext(oe),ie=function(e){return function(n){return r.a.createElement(le.Consumer,null,function(t){return r.a.createElement(e,Object.assign({},n,t))})}},ue=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state=oe,t.setVisibilityFilter=function(e){t.setState({visibilityFilter:e})},t.updateUserInfo=function(e){t.setState({user:e})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return r.a.createElement(le.Provider,{value:{visibilityFilter:this.state.visibilityFilter,setVisibilityFilter:this.setVisibilityFilter,user:this.state.user,updateUserInfo:this.updateUserInfo}},this.props.children)}}]),n}(r.a.Component),se={ADMIN:"ADMIN",AGENT:"AGENT",PLAYER:"PLAYER"},me="#eef1f4";function de(){var e=Object(s.a)(["\n  display: flex;\n  align-self: flex-start;\n"]);return de=function(){return e},e}function fe(){var e=Object(s.a)(["\n  font-size: 3.5rem;\n"]);return fe=function(){return e},e}function pe(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return pe=function(){return e},e}function be(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]);return be=function(){return e},e}function he(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n"]);return he=function(){return e},e}function ge(){var e=Object(s.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return ge=function(){return e},e}function Oe(){var e=Object(s.a)(["\n  display: flex;\n  padding: 1rem;\n  justify-content: space-between;\n  background: #376f9a;\n  color: white;\n"]);return Oe=function(){return e},e}var ve=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props.me,n=Object(O.get)(e,["role"]);return r.a.createElement(je,null,r.a.createElement(xe,null,r.a.createElement(ke,null,"Positive Bets"),r.a.createElement(Ce,null,"Make bets is easy as posible")),r.a.createElement(ye,null,r.a.createElement(we,null,r.a.createElement(Ee,{to:"/"},"Home"),r.a.createElement(Ee,{to:"/games"},"Games"),n===se.ADMIN&&r.a.createElement(Ee,{to:"/admin"},"Admin"),n===se.AGENT&&r.a.createElement(Ee,{to:"/agent"},"Agent")),r.a.createElement(ce,{me:e})))}}]),n}(a.Component),je=C.c.div(Oe()),Ee=Object(C.c)(x.a)(ge()),ye=C.c.div(he()),we=C.c.div(be()),xe=C.c.div(pe()),ke=C.c.div(fe()),Ce=C.c.div(de()),Ie=Object(k.a)(ie(ve)),Ae=t(118),Se=t(114),Pe=t(117),Be=function(){return r.a.createElement("h1",null,"Home 1")},Te=t(65),Le=t.n(Te);function $e(){var e=Object(s.a)(["\n    background: #376f9a;\n    color: white;\n  "]);return $e=function(){return e},e}function Me(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: box-shadow 0.5s;\n  box-shadow: 1px 2px 20px rgba(0,0,0,0.1);\n  border-radius: 10rem;\n  padding: 0.5rem 2rem;\n  ",";\n  &:hover {\n    cursor: pointer;\n    box-shadow: 1px 2px 20px rgba(0,0,0,0.2);\n  }\n  {...props}\n"]);return Me=function(){return e},e}var Ne=C.c.div(Me(),function(e){return e.primary&&Object(C.b)($e())});function qe(){var e=Object(s.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return qe=function(){return e},e}var Fe=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={value:""},t.clearState=function(){t.setState({value:""})},t.handleOnSuccess=function(e){return function(){var n=t.state.value;(0,t.props.onSuccess)(n),t.clearState(),e.hide()}},t.handleOnCancel=function(e){return function(){(0,t.props.onCancel)(),t.clearState(),e.hide()}},t.handleOnChange=function(e){var n=e.target.value;t.setState({value:n})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props.children,t=this.state.value;return r.a.createElement(u.n.Container,null,function(a){return r.a.createElement(u.b,{relative:!0},r.a.createElement(Ue,Object.assign({as:u.n.Toggle},a),n),r.a.createElement(u.n,Object.assign({fade:!0,slide:!0,expand:!0,hideOnClickOutside:!0},a),r.a.createElement(u.n.Arrow,null),r.a.createElement(u.b,null,r.a.createElement(u.e,null,r.a.createElement(u.j,{id:"input1",type:"number",placeholder:"Your bet",value:t,onChange:e.handleOnChange})),r.a.createElement(u.g,{marginTop:8},r.a.createElement(u.d,{secondary:!0,onClick:e.handleOnSuccess(a)},"Ok"),r.a.createElement(u.d,{onClick:e.handleOnCancel(a)},"Cancel")))))})}}]),n}(r.a.Component),Ue=Object(u.r)(u.d)(qe(),Object(f.b)("white"),Object(f.b)("black")),_e=Fe;function De(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]);return De=function(){return e},e}function Ge(){var e=Object(s.a)(["\n  text-align: center;\n  border-bottom: 1px solid #c8e0f5;\n  padding: 1rem;\n  font-size: 2rem;\n"]);return Ge=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 1px 2px 50px rgba(0,0,0,0.1);\n"]);return Qe=function(){return e},e}C.c.div(Qe()),C.c.div(Ge()),C.c.div(De());function He(){var e=Object(s.a)(["\n  html {\n    @import url('https://fonts.googleapis.com/css?family=Rubik:300,400,500');\n    font-family: 'Rubik', sans-serif;\n    font-weight: 400;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 8px;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  body, a, p, span {\n    font-size: 1.75rem;\n  }\n\n  h1 {\n    font-weight: 400;\n  }\n"]);return He=function(){return e},e}function ze(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  padding: 2rem;\n"]);return ze=function(){return e},e}C.c.div(ze(),me);var Re=Object(C.a)(He()),Ye=r.a.createContext(),Ve=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={me:null},t.updateMe=function(e){t.setState({me:e})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props.children,n=this.state,t=n.me;n.updateMe;return r.a.createElement(Ye.Provider,{value:{me:t,updateMe:this.updateMe}},e)}}]),n}(r.a.Component);function We(e){return function(n){return r.a.createElement(Ye.Consumer,null,function(t){return r.a.createElement(e,Object.assign({},n,{user:t}))})}}function Je(){var e=Object(s.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return Je=function(){return e},e}function Ke(){var e=Object(s.a)(["\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(s.a)(["\n  font-size: 1.25rem;\n  padding: 1rem;\n  color: ",";\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  margin-left: 1rem;\n"]);return Ze=function(){return e},e}function en(){var e=Object(s.a)(["\n  align-items: center;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-left-radius: ",";\n  border-bottom-right-radius: ",";\n  &:hover {\n    box-shadow: 0 0 1px rgba(0,0,0,0.5); \n  }\n"]);return en=function(){return e},e}var nn=Object(u.r)(u.f)(en(),Object(f.b)("white"),function(e){return e.top?"0.5rem":0},function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"},function(e){return e.top?0:"0.5rem"}),tn=u.r.div(Ze()),an=u.r.div(Xe(),Object(f.b)("slate")),rn=(u.r.img(Ke(),function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"}),Object(u.r)(u.d)(Je(),Object(f.b)("white"),Object(f.b)("black"))),cn=We(function(e){var n=e.team,t=e.h2h,a=e.top,c=e.user,o=c.me,l=c.updateMe;return r.a.createElement(nn,{template:'\n  "a b c d e" 40px / 40px 1fr 120px 120px 120px\n',top:a},console.log(">>>> PlateItem me: ",{me:o,updateMe:l}),r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(an,null,"Logo")),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(tn,null,n)),r.a.createElement(u.f.Item,{area:"c"},r.a.createElement(rn,null,0)),r.a.createElement(u.f.Item,{area:"d"},r.a.createElement(rn,null,0)),r.a.createElement(u.f.Item,{area:"e"},r.a.createElement(_e,{onSuccess:function(e){return console.log("&&& on create: ",{value:e})},onCancel:function(e){return console.log("&&& on cancel: ",{value:e})}},t)))});function on(){var e=Object(s.a)(["\n  height: 1px;\n  width: 100%;\n  margin: 0;\n"]);return on=function(){return e},e}function ln(){var e=Object(s.a)(["\n  margin-bottom: 2rem;\n"]);return ln=function(){return e},e}function un(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.5rem;\n  /* height: 100%; */\n"]);return un=function(){return e},e}var sn=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=(e.theme,e.team1),t=e.team2,a=(e.homeTeam,e.commenceTime),c=(e.sites,e.h2h);e.gutter;return r.a.createElement(fn,{template:'\n      "a b" auto / 120px auto\n    ',gap:"16px"},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(dn,null,r.a.createElement("div",null,Le()(1e3*a).format("MMM DD")),r.a.createElement("div",null,Le()(1e3*a).format("h:mm a")))),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(cn,{team:n,h2h:c[0],top:!0}),r.a.createElement(pn,null),r.a.createElement(cn,{team:t,h2h:c[1]})))}}]),n}(r.a.Component),mn=Object(u.s)(sn),dn=u.r.div(un(),Object(f.b)("white")),fn=Object(u.r)(u.f)(ln()),pn=u.r.div(on()),bn=function(e){if(e<2){var n=Number((1/(e-1)*100).toFixed(0));return"-".concat(n)}var t=Number((100*e-100).toFixed(0));return"+".concat(t)};function hn(){var e=Object(s.a)(["\n  text-align: center;\n  /* justify-items: center; */\n"]);return hn=function(){return e},e}function gn(){var e=Object(s.a)(["\n  padding: 0.5rem 0;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n"]);return gn=function(){return e},e}function On(){var e=Object(s.a)(["\n  background-color: ",";\n"]);return On=function(){return e},e}var vn=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=e.theme,t=e.odds;Object(O.get)(this.props,["match","params","groupName"]);if(0===t.length)return r.a.createElement("p",null,"no odds");return r.a.createElement("div",null,r.a.createElement(u.h,{as:"h4"},t[0].sport_nice),r.a.createElement(u.f,{template:'\n      "a a1 ab ac ad" auto\n      "c c c c c" auto / 136px auto 120px 120px 120px\n    ',gap:"16px 0"},r.a.createElement(En,{area:"a",left:!0},r.a.createElement(yn,null,"Date 1")),r.a.createElement(En,{area:"a1"}),r.a.createElement(En,{area:"ab"},r.a.createElement(yn,null,"Spread")),r.a.createElement(En,{area:"ac"},r.a.createElement(yn,null,"Total")),r.a.createElement(En,{area:"ad",right:!0},r.a.createElement(yn,null,"M Line")),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},Object(O.map)(t,function(e,n){return r.a.createElement(mn,{key:n,gutter:"1rem 0",team1:e.teams[0],team2:e.teams[1],homeTeam:e.home_team,commenceTime:e.commence_time,sites:e.sites,h2h:function(e){var n=Object(O.get)(e,["sites"]),t=Object(O.get)(n[0],["odds","h2h"]);return Object(O.map)(t,bn)}(e)})}))))}}]),n}(r.a.Component),jn=Object(u.s)(vn),En=(Object(u.r)(u.m)(On(),Object(f.b)("grayscale",-2)),Object(u.r)(u.f.Item)(gn(),Object(f.b)("white"),function(e){return e.left?"0.5rem":0},function(e){return e.left?"0.5rem":0},function(e){return e.right?"0.5rem":0},function(e){return e.right?"0.5rem":0})),yn=u.r.div(hn()),wn=function(e){function n(){return Object(v.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=Object(O.get)(this.props,["match","params","groupName"]);return r.a.createElement(i.Query,{query:_,variables:{sport_key:e}},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["odds"]);return t?r.a.createElement(jn,{odds:t}):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component);function xn(){var e=Object(s.a)(["\n  padding: 1rem;\n"]);return xn=function(){return e},e}function kn(){var e=Object(s.a)(["\n  display: block;\n  padding: 0.5rem;\n  color: ",";\n  text-decoration: none;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return kn=function(){return e},e}function Cn(){var e=Object(s.a)(["\n  color: ",";\n  text-decoration: none;\n"]);return Cn=function(){return e},e}function In(){var e=Object(s.a)(["\n  color: ",";\n"]);return In=function(){return e},e}function An(){var e=Object(s.a)(["\n  display: block;\n  text-align: left;\n  width: 100%;\n  height: 3rem;\n  line-height: 3rem;\n"]);return An=function(){return e},e}function Sn(){var e=Object(s.a)(["\n  /* width: 25rem; */\n  background-color: ",";\n  padding: 1rem;\n"]);return Sn=function(){return e},e}var Pn=function(e){e.match;var n=e.tree;return r.a.createElement(u.c,null,r.a.createElement(Bn,null,r.a.createElement(Ln,{as:"h4"},"Games Panel"),r.a.createElement(u.k,null,Object(O.map)(Object.keys(n),function(e){return r.a.createElement(u.i.Container,{key:e},function(t){return r.a.createElement("li",null,r.a.createElement(u.i.Toggle,Object.assign({as:Tn},t),e),r.a.createElement(Mn,t,Object(O.map)(n[e],function(e,n){return r.a.createElement(Tn,{key:n},r.a.createElement($n,{to:e.url},e.title))})))})}))))},Bn=Object(u.r)(u.l)(Sn(),Object(f.b)("primary",0)),Tn=Object(u.r)(u.d)(An()),Ln=Object(u.r)(u.h)(In(),Object(f.b)("blackText")),$n=Object(u.r)(x.a)(Cn(),Object(f.b)("blackText")),Mn=(u.r.a(kn(),Object(f.b)("blackText")),Object(u.r)(u.i)(xn())),Nn=Object(u.s)(function(e){var n=e.theme,t=e.children,a=e.sidebar,c=qn(a);return r.a.createElement(u.f,{template:c},a&&r.a.createElement(u.f.Item,{area:"b",backgroundColor:n.palette.slate},a),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},r.a.createElement(u.b,{margin:"2rem"},t)))}),qn=function(e){return e?'\n    "b c c" auto / 1fr 2fr 2fr\n  ':'\n    "c c c" auto / 1fr 2fr 2fr\n  '},Fn=function(e){var n=e.match;return r.a.createElement(i.Query,{query:F},function(e){e.loading,e.client;var t=e.data,a=Object(O.get)(t,["sports"]),c=Object(O.map)(a,function(e){return{group:e.group,title:e.title,url:"/games/".concat(e.key)}}),o=Object(O.groupBy)(c,"group");return r.a.createElement(Nn,{sidebar:r.a.createElement(Pn,{match:n,tree:o})},r.a.createElement(Se.a,{path:"".concat(n.path,"/:groupName"),component:wn}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))})},Un=t(28);function _n(){var e=Object(s.a)(["\n  mutation ($username: String!, $email: String!, $password: String!, $role: String!, $agentId: ID) {\n    signUp(username: $username, email: $email, password: $password, role: $role, agentId: $agentId) {\n      id\n      username\n      email\n      role\n      agentId\n    }\n  }\n"]);return _n=function(){return e},e}function Dn(){var e=Object(s.a)(["\n  mutation ($username: String!, $password: String!) {\n    signIn(login: $username, password: $password) {\n      token\n      me {\n        id\n        agentId\n        username\n        email\n        role\n        players {\n          id\n          agentId\n          email\n          username\n          role\n        }\n      }\n    }\n  }\n"]);return Dn=function(){return e},e}var Gn=g()(Dn()),Qn=g()(_n());function Hn(){var e=Object(s.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return Hn=function(){return e},e}var zn=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me;console.log(">>>> handle on add user me: ",{me:a});var r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:se.AGENT}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(Un.a)({},e,n.target.value))}},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(Yn,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),Rn=Object(i.graphql)(Qn)(zn),Yn=u.r.div(Hn(),Object(f.b)("grayscale",-2));function Vn(){var e=Object(s.a)(["\n  background-color: ",";\n"]);return Vn=function(){return e},e}var Wn=function(e){var n=e.player;return r.a.createElement("div",{key:n.id,style:{backgroundColor:"#eaeaea",padding:"3px",marginBottom:"3px"}},r.a.createElement("div",null,n.username),r.a.createElement("div",null,n.email))},Jn=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return console.log("**** Player List props: ",{props:this.props}),r.a.createElement(i.Query,{query:$,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["users"]),a=Object(O.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Add user"),r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e),"Add"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(Kn,Object.assign({fade:!0,slide:!0},e),r.a.createElement(Rn,{me:a,onHide:e.hide})))}),r.a.createElement("h3",null,"User list ",t.length),Object(O.map)(t,function(e){return r.a.createElement(Wn,{player:e,key:e.id})})):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),Kn=Object(u.r)(u.m)(Vn(),Object(f.b)("grayscale",-2)),Xn={users:[{title:"list",url:"/admin/users"}]},Zn=function(e){var n=e.match;return r.a.createElement(Nn,{sidebar:r.a.createElement(Pn,{match:n,tree:Xn})},r.a.createElement(Se.a,{path:"".concat(n.path,"/users"),component:Jn}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function et(){var e=Object(s.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return et=function(){return e},e}var nt=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me,r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:se.PLAYER,agentId:a.id},update:function(e,n){var t=n.data,a=Object(O.get)(t,["signUp"]),r=e.readQuery({query:N});e.writeQuery({query:N,data:{me:Object(m.a)({},r.me,{players:r.me.players.concat([a])})}})}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(Un.a)({},e,n.target.value))}},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(at,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),tt=Object(i.graphql)(Qn)(nt),at=u.r.div(et(),Object(f.b)("grayscale",-2));function rt(){var e=Object(s.a)(["\n  background-color: ",";\n"]);return rt=function(){return e},e}var ct=function(e){var n=e.player;return r.a.createElement("div",{key:n.id,style:{backgroundColor:"#eaeaea",padding:"3px",marginBottom:"3px"}},r.a.createElement("div",null,n.username),r.a.createElement("div",null,n.email))},ot=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return console.log("**** Player List props: ",{props:this.props}),r.a.createElement(i.Query,{query:M,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(O.get)(n,["me","players"]),a=Object(O.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e),"Sign Up player"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(lt,Object.assign({fade:!0,slide:!0},e),r.a.createElement(tt,{me:a,onHide:e.hide})))}),r.a.createElement("h3",null,"Players list ",t.length),Object(O.map)(t,function(e){return r.a.createElement(ct,{player:e,key:e.id})})):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),lt=Object(u.r)(u.m)(rt(),Object(f.b)("grayscale",-2)),it={players:[{title:"list",url:"/agent/players"}]},ut=function(e){var n=e.match;return r.a.createElement(Nn,{sidebar:r.a.createElement(Pn,{match:n,tree:it})},r.a.createElement(Se.a,{path:"".concat(n.path,"/players"),component:ot}),r.a.createElement(Se.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function st(){var e=Object(s.a)(["\n          {\n            messages {\n              id\n              text\n              createdAt\n            }\n          }\n        "]);return st=function(){return e},e}function mt(){var e=Object(s.a)(["\n  mutation ($text: String!) {\n    createMessage(text: $text) {\n      message {\n        id\n        text\n      }\n      me {\n        id\n        username\n        messages {\n          id\n          text\n        }\n      }\n    }\n  }\n"]);return mt=function(){return e},e}function dt(){var e=Object(s.a)(["\n  display: block;\n  border: 1px solid #366d9d;\n  padding: 1rem;\n  margin: 1rem;\n"]);return dt=function(){return e},e}var ft=C.c.div(dt()),pt=g()(mt()),bt=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={text:""},t.handleOnChangeText=function(e){t.setState({text:e.target.value})},t.handleOnSave=function(){(0,t.props.mutate)({variables:{text:t.state.text}}).then(function(e){console.log(">>>> mutate result: ",{result:e})}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state.text;return r.a.createElement(i.Query,{query:g()(st())},function(t){var a=t.loading,c=t.error,o=t.data;return a?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Error..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"text"),r.a.createElement("input",{type:"text",value:n,onChange:e.handleOnChangeText})),r.a.createElement(Ne,{onClick:e.handleOnSave},"Save"),o.messages.map(function(e){var n=e.id,t=e.text,a=e.createdAt;return r.a.createElement(ft,{key:n},r.a.createElement("p",null,t),r.a.createElement("p",null,a))}))})}}]),n}(a.Component),ht=Object(i.graphql)(pt)(bt);function gt(){var e=Object(s.a)(["\n  background-color: white;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(s.a)(["\n  min-width: 300px;\n  background-color: ",";\n"]);return Ot=function(){return e},e}function vt(){var e=Object(s.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return vt=function(){return e},e}function jt(){var e=Object(s.a)(["\n  float: right;\n"]);return jt=function(){return e},e}var Et=function(e){function n(){var e,t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",password:""},t.handleOnChange=function(e){return function(n){t.setState(Object(Un.a)({},e,n.target.value))}},t.handleOnSignIn=function(){var e=t.props.mutate,n=t.state;e({variables:{username:n.username,password:n.password},update:function(e,n){var t=n.data.signIn.me;console.log(">>> sign in update: ",{me:t}),e.writeQuery({query:N,data:{me:t}})}}).then(function(e){var n=e.data.signIn,a=n.token;n.me;A.a.set("token",a),t.props.history.push("/games")}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(w.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password;return r.a.createElement(Nn,null,r.a.createElement(u.m.Container,null,function(n){return r.a.createElement(xt,null,r.a.createElement(Ct,{visible:!0}),r.a.createElement(kt,Object.assign({fade:!0,slide:!0},n,{visible:!0}),r.a.createElement("h3",null,"Sign In"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"email or username",value:t,onChange:e.handleOnChange("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:e.handleOnChange("password")})),r.a.createElement(u.d,{onClick:e.handleOnSignIn,primary:!0},"Sign In"),r.a.createElement(wt,{to:"/"},"go to home page")))}))}}]),n}(a.Component),yt=Object(i.graphql)(Gn)(ie(Et)),wt=Object(u.r)(x.a)(jt()),xt=u.r.div(vt(),Object(f.b)("grayscale",-2)),kt=Object(u.r)(u.m)(Ot(),Object(f.b)("grayscale",-2)),Ct=Object(u.r)(u.a)(gt()),It=function(e,n){return!!e&&!(n&&!n.includes(e.role))},At=function(e){var n=e.me;return r.a.createElement("main",null,r.a.createElement(Ae.a,null,r.a.createElement(Se.a,{exact:!0,path:"/",component:Be}),r.a.createElement(Se.a,{path:"/games",component:Fn}),r.a.createElement(Se.a,{path:"/admin",render:function(e){return It(n,[se.ADMIN])?r.a.createElement(Zn,e):r.a.createElement(Pe.a,{to:"/sign-in"})}}),r.a.createElement(Se.a,{path:"/agent",render:function(e){return It(n,[se.AGENT,se.ADMIN])?r.a.createElement(ut,e):r.a.createElement(Pe.a,{to:"/sign-in"})}}),r.a.createElement(Se.a,{path:"/schedule",component:ht}),r.a.createElement(Se.a,{path:"/sign-in",component:yt})))},St=We(function(e){e.user.updateMe;return r.a.createElement(i.Query,{query:N,fetchPolicy:"network-only"},function(e){e.client,e.loading;var n=e.data,t=Object(O.get)(n,["me"]);return r.a.createElement("div",null,r.a.createElement(Ie,{me:t}),r.a.createElement(At,{me:t}),r.a.createElement(Re,null))})}),Pt=t(56),Bt=t(77),Tt=t(74),Lt=t(75),$t=t(115),Mt=Object(Bt.a)({uri:"http://localhost:5000/graphql"}),Nt=Object(Tt.a)(function(e,n){var t=n.headers,a=A.a.get("token");return{headers:Object(m.a)({},t,{Authorization:a||""})}}),qt=Object(Lt.a)(function(e){var n=function(e){var n=e.graphQLErrors,t=e.networkError;return n?n.map(function(e){switch(e.extensions.code){case"UNAUTHENTICATED":e.statusCode=401;break;case"FORBIDDEN":e.statusCode=403}return e}):[t]}({graphQLErrors:e.graphQLErrors,networkError:e.networkError});console.log("^^^^ errors handler: ",n),n.map(function(e){401===e.statusCode&&(A.a.set("token",""),window.location.href="/sign-in")})}),Ft=new Pt.a({link:qt.concat(Nt.concat(Mt)),cache:new $t.a});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(ue,null,r.a.createElement(i.ApolloProvider,{client:Ft},r.a.createElement(u.o,{theme:b},r.a.createElement(Ve,null,r.a.createElement(St,null)))))),document.getElementById("root")),window.client=Ft,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,n,t){e.exports=t(104)},95:function(e,n,t){}},[[80,2,1]]]);
//# sourceMappingURL=main.cf71b4b6.chunk.js.map