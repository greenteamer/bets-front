(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(18),o=t.n(c),l=t(113),i=t(8),u=t(3),m=(t(92),t(4)),s=t(31),d=t(46),b=t(1);function f(){var e=Object(m.a)(["\n    ",";\n    background-color: ",";\n  "]);return f=function(){return e},e}var p=Object(s.a)({},d.a,{palette:Object(s.a)({},d.a.palette,{slate:"#455266",lightGreyBlue:"#aeb8c7",iceBlue:"#eef1f4",shamrockGreen:"#00cf4f",primary:[Object(b.b)("slate"),Object(b.b)("lightGreyBlue"),Object(b.b)("iceBlue")],secondary:[Object(b.b)("shamrockGreen")]}),white:"white",Button:Object(u.q)(f(),d.a.Button,function(e){return e.secondary?Object(b.b)("shamrockGreen"):Object(b.b)("slate")})}),h=t(19),g=t.n(h),v=t(7),O=t(9),j=t(10),E=t(12),y=t(11),k=t(13),w=t(109),x=t(110),C=t(16),I=t(29),A=t.n(I);function S(){var e=Object(m.a)(["\n  {\n    me {\n      id\n      agentId\n      username\n      email\n      role\n      balance\n      available\n      atRisk\n      ...UserBets\n      ...UserPlayers\n    }\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}function B(){var e=Object(m.a)(["\n  { \n    me {\n      id\n      agentId\n      username\n      email\n      role\n      balance\n      available\n      atRisk\n      ...UserBets\n      ...UserPlayers\n    }\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}function U(){var e=Object(m.a)(["\n  { \n    users {\n      id\n      username\n      email\n      role\n      balance\n      available\n      atRisk\n      ...UserBets\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function P(){var e=Object(m.a)(["\n  fragment UserPlayers on User {\n    players {\n      id\n      agentId\n      username\n      email\n      role\n      balance\n      available\n      atRisk\n      ...UserBets\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function $(){var e=Object(m.a)(["\n  fragment UserBets on User {\n    bets {\n      id\n      amount\n      team\n    }\n  }\n"]);return $=function(){return e},e}var T=g()($()),q=g()(P(),T),L=g()(U(),T),N=g()(B(),q,T),F=g()(S(),q,T);function R(){var e=Object(m.a)(["\n  {\n    sports {\n      id\n      key\n      active\n      group\n      details\n      title\n    }\n  }\n"]);return R=function(){return e},e}var _=g()(R());function Q(){var e=Object(m.a)(["\n  query ($sport_key:String!) {\n    odds(sport_key:$sport_key) {\n      id\n      sport_key\n      sport_nice\n      teams\n      commence_time\n      home_team\n      sites {\n        site_key\n        site_nice\n        last_update\n        odds {\n          h2h\n        }\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var D=g()(Q());function G(){var e=Object(m.a)(["\n  margin-top: 2rem!important;\n  text-align: center;\n"]);return G=function(){return e},e}function H(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 1rem;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  background-color: ",";\n"]);return H=function(){return e},e}function M(){var e=Object(m.a)(["\n"]);return M=function(){return e},e}function z(){var e=Object(m.a)(["\n  padding: 1rem;\n  margin: 1rem 0;\n"]);return z=function(){return e},e}function K(){var e=Object(m.a)(["\n  text-align: center;\n  text-transform: uppercase;\n"]);return K=function(){return e},e}function Y(){var e=Object(m.a)(["\n  min-width: 30rem;\n  padding: 1rem;\n"]);return Y=function(){return e},e}function V(){var e=Object(m.a)(["\n  width: 100%;\n"]);return V=function(){return e},e}var W=function(e){var n=e.me,t=e.onLogout;return r.a.createElement(Z,null,r.a.createElement(ee,null,n.username),r.a.createElement(ne,null,r.a.createElement(J,{title:"Balance",value:n.balance}),r.a.createElement(J,{title:"Available",value:n.available}),r.a.createElement(J,{title:"At Risk",value:n.atRisk})),r.a.createElement(X,{onClick:t},"Logout"),r.a.createElement("div",null,r.a.createElement(ae,{as:"h4"},"Your bets"),Object(v.map)(n.bets,function(e,n){return r.a.createElement(te,{key:n,block:!0},r.a.createElement("div",null,e.team),r.a.createElement("div",null,e.amount," $"))})))},J=function(e){var n=e.title,t=e.value;return r.a.createElement("div",null,n,": ",t)},X=Object(u.r)(u.d)(V()),Z=u.r.div(Y()),ee=u.r.h2(K()),ne=u.r.div(z()),te=(u.r.div(M()),u.r.div(H(),Object(b.b)("iceBlue"))),ae=Object(u.r)(u.h)(G());function re(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return re=function(){return e},e}function ce(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return ce=function(){return e},e}function oe(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  color: white;\n"]);return oe=function(){return e},e}var le=function(e){function n(){return Object(O.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props.me,t=function(){A.a.remove("token"),(0,e.props.data.refetch)()};return n?r.a.createElement(ie,null,r.a.createElement(u.p.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(me,{onClick:e.show},"Profile"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.p.Hide},e)),r.a.createElement(u.p,Object.assign({slide:!0,align:"right"},e),r.a.createElement(W,{me:n,onLogout:t})))})):r.a.createElement(ie,null,r.a.createElement(ue,{to:"/sign-in"},"Sing In"))}}]),n}(a.Component),ie=C.c.div(oe()),ue=Object(C.c)(w.a)(ce()),me=C.c.span(re()),se=Object(x.a)(Object(i.graphql)(F)(le)),de={visibilityFilter:"SHOW_ALL",user:null},be=r.a.createContext(de),fe=function(e){return function(n){return r.a.createElement(be.Consumer,null,function(t){return r.a.createElement(e,Object.assign({},n,t))})}},pe=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state=de,t.setVisibilityFilter=function(e){t.setState({visibilityFilter:e})},t.updateUserInfo=function(e){t.setState({user:e})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return r.a.createElement(be.Provider,{value:{visibilityFilter:this.state.visibilityFilter,setVisibilityFilter:this.setVisibilityFilter,user:this.state.user,updateUserInfo:this.updateUserInfo}},this.props.children)}}]),n}(r.a.Component),he={ADMIN:"ADMIN",AGENT:"AGENT",PLAYER:"PLAYER"},ge="#eef1f4";function ve(){var e=Object(m.a)(["\n  display: flex;\n  align-self: flex-start;\n"]);return ve=function(){return e},e}function Oe(){var e=Object(m.a)(["\n  font-size: 3.5rem;\n"]);return Oe=function(){return e},e}function je(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return je=function(){return e},e}function Ee(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]);return Ee=function(){return e},e}function ye(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n"]);return ye=function(){return e},e}function ke(){var e=Object(m.a)(["\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem;\n"]);return ke=function(){return e},e}function we(){var e=Object(m.a)(["\n  display: flex;\n  padding: 1rem;\n  justify-content: space-between;\n  background: #376f9a;\n  color: white;\n"]);return we=function(){return e},e}var xe=function(e){function n(){return Object(O.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props.me,n=Object(v.get)(e,["role"]);return r.a.createElement(Ce,null,r.a.createElement(Be,null,r.a.createElement(Ue,null,"Positive Bets"),r.a.createElement(Pe,null,"Make bets is easy as posible")),r.a.createElement(Ae,null,r.a.createElement(Se,null,r.a.createElement(Ie,{to:"/"},"Home"),r.a.createElement(Ie,{to:"/games"},"Games"),n===he.ADMIN&&r.a.createElement(Ie,{to:"/admin"},"Admin"),n===he.AGENT&&r.a.createElement(Ie,{to:"/agent"},"Agent")),r.a.createElement(se,{me:e})))}}]),n}(a.Component),Ce=C.c.div(we()),Ie=Object(C.c)(w.a)(ke()),Ae=C.c.div(ye()),Se=C.c.div(Ee()),Be=C.c.div(je()),Ue=C.c.div(Oe()),Pe=C.c.div(ve()),$e=Object(x.a)(fe(xe)),Te=t(115),qe=t(111),Le=t(114),Ne=function(){return r.a.createElement("h1",null,"Home 1")},Fe=t(60),Re=t.n(Fe);function _e(){var e=Object(m.a)(["\n    background: #376f9a;\n    color: white;\n  "]);return _e=function(){return e},e}function Qe(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: box-shadow 0.5s;\n  box-shadow: 1px 2px 20px rgba(0,0,0,0.1);\n  border-radius: 10rem;\n  padding: 0.5rem 2rem;\n  ",";\n  &:hover {\n    cursor: pointer;\n    box-shadow: 1px 2px 20px rgba(0,0,0,0.2);\n  }\n  {...props}\n"]);return Qe=function(){return e},e}var De=C.c.div(Qe(),function(e){return e.primary&&Object(C.b)(_e())});function Ge(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return Ge=function(){return e},e}var He=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={value:""},t.clearState=function(){t.setState({value:""})},t.handleOnSuccess=function(e){return function(){var n=t.state.value;(0,t.props.onSuccess)(n),t.clearState(),e.hide()}},t.handleOnCancel=function(e){return function(){(0,t.props.onCancel)(),t.clearState(),e.hide()}},t.handleOnChange=function(e){var n=e.target.value;t.setState({value:n})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.children,a=n.placeholder,c=this.state.value;return r.a.createElement(u.n.Container,null,function(n){return r.a.createElement(u.b,{relative:!0},r.a.createElement(Me,Object.assign({as:u.n.Toggle},n),t),r.a.createElement(u.n,Object.assign({fade:!0,slide:!0,expand:!0,hideOnClickOutside:!0},n),r.a.createElement(u.n.Arrow,null),r.a.createElement(u.b,null,r.a.createElement(u.e,null,r.a.createElement(u.j,{id:"input1",type:"number",placeholder:a,value:c,onChange:e.handleOnChange})),r.a.createElement(u.g,{marginTop:8},r.a.createElement(u.d,{secondary:!0,onClick:e.handleOnSuccess(n)},"Ok"),r.a.createElement(u.d,{onClick:e.handleOnCancel(n)},"Cancel")))))})}}]),n}(r.a.Component),Me=Object(u.r)(u.d)(Ge(),Object(b.b)("white"),Object(b.b)("black")),ze=He;function Ke(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(m.a)(["\n  text-align: center;\n  border-bottom: 1px solid #c8e0f5;\n  padding: 1rem;\n  font-size: 2rem;\n"]);return Ye=function(){return e},e}function Ve(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 1px 2px 50px rgba(0,0,0,0.1);\n"]);return Ve=function(){return e},e}C.c.div(Ve()),C.c.div(Ye()),C.c.div(Ke());function We(){var e=Object(m.a)(["\n  html {\n    @import url('https://fonts.googleapis.com/css?family=Rubik:300,400,500');\n    font-family: 'Rubik', sans-serif;\n    font-weight: 400;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 8px;\n  }\n\n  body {\n    margin: 0;\n  }\n\n  body, a, p, span {\n    font-size: 1.75rem;\n  }\n\n  h1 {\n    font-weight: 400;\n  }\n"]);return We=function(){return e},e}function Je(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  padding: 2rem;\n"]);return Je=function(){return e},e}C.c.div(Je(),ge);var Xe=Object(C.a)(We());function Ze(){var e=Object(m.a)(["\n  mutation ($input: UpdateAvailableInput!) {\n    updateAvailable(input: $input) {\n      id\n      available\n    }\n  }\n"]);return Ze=function(){return e},e}function en(){var e=Object(m.a)(["\n  mutation ($username: String!, $email: String!, $password: String!, $role: String!, $agentId: ID) {\n    signUp(username: $username, email: $email, password: $password, role: $role, agentId: $agentId) {\n      id\n      username\n      email\n      role\n      agentId\n    }\n  }\n"]);return en=function(){return e},e}function nn(){var e=Object(m.a)(["\n  mutation ($username: String!, $password: String!) {\n    signIn(login: $username, password: $password) {\n      token\n      me {\n        id\n        agentId\n        username\n        email\n        role\n        players {\n          id\n          agentId\n          email\n          username\n          role\n        }\n      }\n    }\n  }\n"]);return nn=function(){return e},e}var tn=g()(nn()),an=g()(en()),rn=g()(Ze());function cn(){var e=Object(m.a)(["\n  mutation ($input: CreateBetInput!) {\n    createBet(input: $input) {\n      id\n      available\n      bets {\n        id\n        amount\n        team\n      }\n    }\n  }\n"]);return cn=function(){return e},e}var on=g()(cn());function ln(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return ln=function(){return e},e}function un(){var e=Object(m.a)(["\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n"]);return un=function(){return e},e}function mn(){var e=Object(m.a)(["\n  font-size: 1.25rem;\n  padding: 1rem;\n  color: ",";\n"]);return mn=function(){return e},e}function sn(){var e=Object(m.a)(["\n  margin-left: 1rem;\n"]);return sn=function(){return e},e}function dn(){var e=Object(m.a)(["\n  align-items: center;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-left-radius: ",";\n  border-bottom-right-radius: ",";\n  &:hover {\n    box-shadow: 0 0 1px rgba(0,0,0,0.5); \n  }\n"]);return dn=function(){return e},e}var bn=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).handleOnCreateBet=function(e){var n=t.props,a=n.mutate,r=n.client,c=n.eventId,o=n.siteKey,l=n.oddType,i=n.oddIndex,u=n.team,m=r.cache.readQuery({query:F}),s=Object(v.get)(m,["me"]);(console.log(">>> handleOnCreateBet props: ",{mutate:a,client:r,me:s}),s)?a({variables:{input:{userId:s.id,creatorId:s.id,amount:parseInt(e,10),eventId:c,siteKey:o,oddType:l,oddIndex:i,team:u}}}).then(function(e){e.data.createBet;console.log(">>>> create bet mutation result: ",{result:e})}).catch(function(e){console.log(">>>> mutate error: ",{error:e})}):console.log(">>> Error when getting me from cache")},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=e.team,t=e.h2h,a=e.top;return r.a.createElement(fn,{template:'\n  "a b c d e" 40px / 40px 1fr 120px 120px 120px\n',top:a},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(hn,null,"Logo")),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(pn,null,n)),r.a.createElement(u.f.Item,{area:"c"},r.a.createElement(gn,null,0)),r.a.createElement(u.f.Item,{area:"d"},r.a.createElement(gn,null,0)),r.a.createElement(u.f.Item,{area:"e"},r.a.createElement(ze,{placeholder:"0",onSuccess:this.handleOnCreateBet,onCancel:function(e){return console.log("&&& on cancel: ",{value:e})}},t)))}}]),n}(r.a.Component),fn=Object(u.r)(u.f)(dn(),Object(b.b)("white"),function(e){return e.top?"0.5rem":0},function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"},function(e){return e.top?0:"0.5rem"}),pn=u.r.div(sn()),hn=u.r.div(mn(),Object(b.b)("slate")),gn=(u.r.img(un(),function(e){return e.top?"0.5rem":0},function(e){return e.top?0:"0.5rem"}),Object(u.r)(u.d)(ln(),Object(b.b)("white"),Object(b.b)("black"))),vn=Object(i.withApollo)(Object(i.graphql)(on)(bn)),On=function(e){if(e<2){var n=Number((1/(e-1)*100).toFixed(0));return"-".concat(n)}var t=Number((100*e-100).toFixed(0));return"+".concat(t)};function jn(){var e=Object(m.a)(["\n  height: 1px;\n  width: 100%;\n  margin: 0;\n"]);return jn=function(){return e},e}function En(){var e=Object(m.a)(["\n  margin-bottom: 2rem;\n"]);return En=function(){return e},e}function yn(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  height: 100%;\n  flex-direction: column;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.5rem;\n  /* height: 100%; */\n"]);return yn=function(){return e},e}var kn=function(e){function n(){return Object(O.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=(e.theme,e.gutter,e.odd),t=n.teams,a=(n.homeTeam,n.commence_time),c=n.sites;n.h2h,n.id;console.log(">>> Odd(event) id: ",{odd:n});var o=function(e){var n=Object(v.get)(e,["sites"]),t=Object(v.get)(n[0],["odds","h2h"]);return Object(v.map)(t,On)};return r.a.createElement(Cn,{template:'\n      "a b" auto / 120px auto\n    ',gap:"16px"},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(xn,null,r.a.createElement("div",null,Re()(1e3*a).format("MMM DD")),r.a.createElement("div",null,Re()(1e3*a).format("h:mm a")))),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(vn,{eventId:n.id,siteKey:c[0].site_key,oddType:"h2h",oddIndex:0,team:t[0],h2h:o(n)[0],top:!0}),r.a.createElement(In,null),r.a.createElement(vn,{eventId:n.id,siteKey:c[0].site_key,oddType:"h2h",oddIndex:1,team:t[1],h2h:o(n)[1]})))}}]),n}(r.a.Component),wn=Object(u.s)(kn),xn=u.r.div(yn(),Object(b.b)("white")),Cn=Object(u.r)(u.f)(En()),In=u.r.div(jn());function An(){var e=Object(m.a)(["\n  text-align: center;\n  /* justify-items: center; */\n"]);return An=function(){return e},e}function Sn(){var e=Object(m.a)(["\n  padding: 0.5rem 0;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n"]);return Sn=function(){return e},e}function Bn(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return Bn=function(){return e},e}var Un=function(e){function n(){return Object(O.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=e.theme,t=e.odds;Object(v.get)(this.props,["match","params","groupName"]);return 0===t.length?r.a.createElement("p",null,"no odds"):r.a.createElement("div",null,r.a.createElement(u.h,{as:"h4"},t[0].sport_nice),r.a.createElement(u.f,{template:'\n      "a a1 ab ac ad" auto\n      "c c c c c" auto / 136px auto 120px 120px 120px\n    ',gap:"16px 0"},r.a.createElement($n,{area:"a",left:!0},r.a.createElement(Tn,null,"Date 1")),r.a.createElement($n,{area:"a1"}),r.a.createElement($n,{area:"ab"},r.a.createElement(Tn,null,"Spread")),r.a.createElement($n,{area:"ac"},r.a.createElement(Tn,null,"Total")),r.a.createElement($n,{area:"ad",right:!0},r.a.createElement(Tn,null,"M Line")),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},Object(v.map)(t,function(e,n){return r.a.createElement(wn,{key:n,gutter:"1rem 0",odd:e})}))))}}]),n}(r.a.Component),Pn=Object(u.s)(Un),$n=(Object(u.r)(u.m)(Bn(),Object(b.b)("grayscale",-2)),Object(u.r)(u.f.Item)(Sn(),Object(b.b)("white"),function(e){return e.left?"0.5rem":0},function(e){return e.left?"0.5rem":0},function(e){return e.right?"0.5rem":0},function(e){return e.right?"0.5rem":0})),Tn=u.r.div(An()),qn=function(e){function n(){return Object(O.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=Object(v.get)(this.props,["match","params","groupName"]);return r.a.createElement(i.Query,{query:D,variables:{sport_key:e}},function(e){e.loading,e.client;var n=e.data,t=Object(v.get)(n,["odds"]);return t?r.a.createElement(Pn,{odds:t}):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component);function Ln(){var e=Object(m.a)(["\n  padding: 1rem;\n"]);return Ln=function(){return e},e}function Nn(){var e=Object(m.a)(["\n  display: block;\n  padding: 0.5rem;\n  color: ",";\n  text-decoration: none;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Nn=function(){return e},e}function Fn(){var e=Object(m.a)(["\n  color: ",";\n  text-decoration: none;\n"]);return Fn=function(){return e},e}function Rn(){var e=Object(m.a)(["\n  color: ",";\n"]);return Rn=function(){return e},e}function _n(){var e=Object(m.a)(["\n  display: block;\n  text-align: left;\n  width: 100%;\n  height: 3rem;\n  line-height: 3rem;\n"]);return _n=function(){return e},e}function Qn(){var e=Object(m.a)(["\n  /* width: 25rem; */\n  background-color: ",";\n  padding: 1rem;\n"]);return Qn=function(){return e},e}var Dn=function(e){e.match;var n=e.tree;return r.a.createElement(u.c,null,r.a.createElement(Gn,null,r.a.createElement(Mn,{as:"h4"},"Games Panel"),r.a.createElement(u.k,null,Object(v.map)(Object.keys(n),function(e){return r.a.createElement(u.i.Container,{key:e},function(t){return r.a.createElement("li",null,r.a.createElement(u.i.Toggle,Object.assign({as:Hn},t),e),r.a.createElement(Kn,t,Object(v.map)(n[e],function(e,n){return r.a.createElement(Hn,{key:n},r.a.createElement(zn,{to:e.url},e.title))})))})}))))},Gn=Object(u.r)(u.l)(Qn(),Object(b.b)("primary",0)),Hn=Object(u.r)(u.d)(_n()),Mn=Object(u.r)(u.h)(Rn(),Object(b.b)("blackText")),zn=Object(u.r)(w.a)(Fn(),Object(b.b)("blackText")),Kn=(u.r.a(Nn(),Object(b.b)("blackText")),Object(u.r)(u.i)(Ln())),Yn=Object(u.s)(function(e){var n=e.theme,t=e.children,a=e.sidebar,c=Vn(a);return r.a.createElement(u.f,{template:c},a&&r.a.createElement(u.f.Item,{area:"b",backgroundColor:n.palette.slate},a),r.a.createElement(u.f.Item,{area:"c",backgroundColor:n.palette.iceBlue},r.a.createElement(u.b,{margin:"2rem"},t)))}),Vn=function(e){return e?'\n    "b c c" auto / 1fr 2fr 2fr\n  ':'\n    "c c c" auto / 1fr 2fr 2fr\n  '},Wn=function(e){var n=e.match;return r.a.createElement(i.Query,{query:_},function(e){e.loading,e.client;var t=e.data,a=Object(v.get)(t,["sports"]),c=Object(v.map)(a,function(e){return{group:e.group,title:e.title,url:"/games/".concat(e.key)}}),o=Object(v.groupBy)(c,"group");return r.a.createElement(Yn,{sidebar:r.a.createElement(Dn,{match:n,tree:o})},r.a.createElement(qe.a,{path:"".concat(n.path,"/:groupName"),component:qn}),r.a.createElement(qe.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))})},Jn=t(28);function Xn(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return Xn=function(){return e},e}var Zn=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me;console.log(">>>> handle on add user me: ",{me:a});var r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:he.AGENT}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(Jn.a)({},e,n.target.value))}},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(nt,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),et=Object(i.graphql)(an)(Zn),nt=u.r.div(Xn(),Object(b.b)("grayscale",-2));function tt(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return tt=function(){return e},e}var at=function(e){var n=e.player;return r.a.createElement("div",{key:n.id,style:{backgroundColor:"#eaeaea",padding:"3px",marginBottom:"3px"}},r.a.createElement("div",null,n.username),r.a.createElement("div",null,n.email))},rt=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return console.log("**** Player List props: ",{props:this.props}),r.a.createElement(i.Query,{query:L,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(v.get)(n,["users"]),a=Object(v.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Add user"),r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e),"Add"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(ct,Object.assign({fade:!0,slide:!0},e),r.a.createElement(et,{me:a,onHide:e.hide})))}),r.a.createElement("h3",null,"User list ",t.length),Object(v.map)(t,function(e){return r.a.createElement(at,{player:e,key:e.id})})):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),ct=Object(u.r)(u.m)(tt(),Object(b.b)("grayscale",-2)),ot={users:[{title:"list",url:"/admin/users"}]},lt=function(e){var n=e.match;return r.a.createElement(Yn,{sidebar:r.a.createElement(Dn,{match:n,tree:ot})},r.a.createElement(qe.a,{path:"".concat(n.path,"/users"),component:rt}),r.a.createElement(qe.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function it(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return it=function(){return e},e}var ut=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},t.handleOnAddPlayer=function(){var e=t.props,n=e.mutate,a=e.me,r=t.state;n({variables:{username:r.username,email:r.email,password:r.password,role:he.PLAYER,agentId:a.id},update:function(e,n){var t=n.data,a=Object(v.get)(t,["signUp"]),r=e.readQuery({query:F});e.writeQuery({query:F,data:{me:Object(s.a)({},r.me,{players:r.me.players.concat([a])})}})}}).then(function(e){e.data.signUp;(0,t.props.onHide)()}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t.handleOnChangeInput=function(e){return function(n){t.setState(Object(Jn.a)({},e,n.target.value))}},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.state,n=e.username,t=e.email,a=e.password;return r.a.createElement(st,null,r.a.createElement("h3",null,"Create Player"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"username",value:n,onChange:this.handleOnChangeInput("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"email",placeholder:"email",type:"email",value:t,onChange:this.handleOnChangeInput("email")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:this.handleOnChangeInput("password")})),r.a.createElement(u.d,{onClick:this.handleOnAddPlayer,primary:!0},"Create"))}}]),n}(r.a.Component),mt=Object(i.graphql)(an)(ut),st=u.r.div(it(),Object(b.b)("grayscale",-2));function dt(){var e=Object(m.a)(["\n  width: 100%;\n  background-color: ",";\n  color: ",";\n  &:active {\n    box-shadow: inset 0 0 999em rgba(0,0,0,0.15);\n  }\n"]);return dt=function(){return e},e}function bt(){var e=Object(m.a)(["\n  font-size: 1.25rem;\n  padding: 1rem;\n  color: ",";\n"]);return bt=function(){return e},e}function ft(){var e=Object(m.a)(["\n  margin-left: 1rem;\n"]);return ft=function(){return e},e}function pt(){var e=Object(m.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 0.5rem;\n  &:hover {\n    box-shadow: 0 0 1px rgba(0,0,0,0.5); \n  }\n"]);return pt=function(){return e},e}var ht=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).handleOnUpdateAvailable=function(e){var n=t.props,a=n.id,r=n.mutate;n.client;r({variables:{input:{value:parseInt(e,10),userId:a}}}).then(function(e){console.log(">>>> update available result: ",{result:e})}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this.props,n=(e.id,e.username),t=e.email,a=e.balance,c=e.available,o=e.atRisk;return r.a.createElement(gt,{template:'\n  "a b c d e" 40px / 1fr 1fr 120px 120px 120px\n'},r.a.createElement(u.f.Item,{area:"a"},r.a.createElement(vt,null,n)),r.a.createElement(u.f.Item,{area:"b"},r.a.createElement(vt,null,t)),r.a.createElement(u.f.Item,{area:"c"},r.a.createElement(Ot,null,a)),r.a.createElement(u.f.Item,{area:"d"},r.a.createElement(ze,{placeholder:"0",onSuccess:this.handleOnUpdateAvailable,onCancel:function(e){return console.log("&&& on cancel: ",{value:e})}},c)),r.a.createElement(u.f.Item,{area:"e"},r.a.createElement(Ot,null,o)))}}]),n}(r.a.Component),gt=Object(u.r)(u.f)(pt(),Object(b.b)("white")),vt=u.r.div(ft()),Ot=(u.r.div(bt(),Object(b.b)("slate")),Object(u.r)(u.d)(dt(),Object(b.b)("white"),Object(b.b)("black"))),jt=Object(i.withApollo)(Object(i.graphql)(rn)(ht));function Et(){var e=Object(m.a)(["\n  text-align: ",";\n  margin-left: 1rem;\n  /* justify-items: center; */\n"]);return Et=function(){return e},e}function yt(){var e=Object(m.a)(["\n  padding: 0.5rem 0;\n  background-color: ",";\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n"]);return yt=function(){return e},e}function kt(){var e=Object(m.a)(["\n  margin-top: 1rem;\n"]);return kt=function(){return e},e}function wt(){var e=Object(m.a)(["\n  background-color: ",";\n"]);return wt=function(){return e},e}var xt=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).toggleForm=function(){t.setState({showForm:!t.showForm})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){return r.a.createElement(i.Query,{query:N,fetchPolicy:"network-only"},function(e){e.loading,e.client;var n=e.data,t=Object(v.get)(n,["me","players"]),a=Object(v.get)(n,["me"]);return t?r.a.createElement("div",null,r.a.createElement(u.m.Container,null,function(e){return r.a.createElement(u.b,null,r.a.createElement(u.d,Object.assign({as:u.m.Show},e,{marginBottom:"2rem"}),"Sign Up player"),r.a.createElement(u.a,Object.assign({fade:!0,as:u.m.Hide},e)),r.a.createElement(Ct,Object.assign({fade:!0,slide:!0},e),r.a.createElement(mt,{me:a,onHide:e.hide})))}),r.a.createElement(u.f,{template:'\n  "a a1 ab ac ad" auto\n  "c c c c c" auto / 1fr 1fr 120px 120px 120px\n',gap:"16px 0"},r.a.createElement(At,{area:"a",left:!0},r.a.createElement(St,null,"Username")),r.a.createElement(At,{area:"a1"},r.a.createElement(St,null,"Email")),r.a.createElement(At,{area:"ab"},r.a.createElement(St,{center:!0},"Balance")),r.a.createElement(At,{area:"ac"},r.a.createElement(St,{center:!0},"Available")),r.a.createElement(At,{area:"ad",right:!0},r.a.createElement(St,{center:!0},"At Risk")),r.a.createElement(u.f.Item,{area:"c"},Object(v.map)(t,function(e){return r.a.createElement(It,{key:e.id},r.a.createElement(jt,{id:e.id,username:e.username,email:e.email,balance:e.balance,available:e.available,atRisk:e.atRisk,key:e.id}))})))):r.a.createElement("div",null,"Loading....")})}}]),n}(r.a.Component),Ct=Object(u.r)(u.m)(wt(),Object(b.b)("grayscale",-2)),It=u.r.div(kt()),At=Object(u.r)(u.f.Item)(yt(),Object(b.b)("white"),function(e){return e.left?"0.5rem":0},function(e){return e.left?"0.5rem":0},function(e){return e.right?"0.5rem":0},function(e){return e.right?"0.5rem":0}),St=u.r.div(Et(),function(e){return e.center?"center":"left"}),Bt={players:[{title:"list",url:"/agent/players"}]},Ut=function(e){var n=e.match;return r.a.createElement(Yn,{sidebar:r.a.createElement(Dn,{match:n,tree:Bt})},r.a.createElement(qe.a,{path:"".concat(n.path,"/players"),component:xt}),r.a.createElement(qe.a,{exact:!0,path:n.path,render:function(){return r.a.createElement("h3",null,"Please select a page.")}}))};function Pt(){var e=Object(m.a)(["\n          {\n            messages {\n              id\n              text\n              createdAt\n            }\n          }\n        "]);return Pt=function(){return e},e}function $t(){var e=Object(m.a)(["\n  mutation ($text: String!) {\n    createMessage(text: $text) {\n      message {\n        id\n        text\n      }\n      me {\n        id\n        username\n        messages {\n          id\n          text\n        }\n      }\n    }\n  }\n"]);return $t=function(){return e},e}function Tt(){var e=Object(m.a)(["\n  display: block;\n  border: 1px solid #366d9d;\n  padding: 1rem;\n  margin: 1rem;\n"]);return Tt=function(){return e},e}var qt=C.c.div(Tt()),Lt=g()($t()),Nt=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={text:""},t.handleOnChangeText=function(e){t.setState({text:e.target.value})},t.handleOnSave=function(){(0,t.props.mutate)({variables:{text:t.state.text}}).then(function(e){console.log(">>>> mutate result: ",{result:e})}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state.text;return r.a.createElement(i.Query,{query:g()(Pt())},function(t){var a=t.loading,c=t.error,o=t.data;return a?r.a.createElement("p",null,"Loading..."):c?r.a.createElement("p",null,"Error..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"text"),r.a.createElement("input",{type:"text",value:n,onChange:e.handleOnChangeText})),r.a.createElement(De,{onClick:e.handleOnSave},"Save"),o.messages.map(function(e){var n=e.id,t=e.text,a=e.createdAt;return r.a.createElement(qt,{key:n},r.a.createElement("p",null,t),r.a.createElement("p",null,a))}))})}}]),n}(a.Component),Ft=Object(i.graphql)(Lt)(Nt);function Rt(){var e=Object(m.a)(["\n  background-color: white;\n"]);return Rt=function(){return e},e}function _t(){var e=Object(m.a)(["\n  min-width: 300px;\n  background-color: ",";\n"]);return _t=function(){return e},e}function Qt(){var e=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n"]);return Qt=function(){return e},e}function Dt(){var e=Object(m.a)(["\n  float: right;\n"]);return Dt=function(){return e},e}var Gt=function(e){function n(){var e,t;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(E.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(r)))).state={username:"",password:""},t.handleOnChange=function(e){return function(n){t.setState(Object(Jn.a)({},e,n.target.value))}},t.handleOnSignIn=function(){var e=t.props.mutate,n=t.state;e({variables:{username:n.username,password:n.password},update:function(e,n){var t=n.data.signIn.me;console.log(">>> sign in update: ",{me:t}),e.writeQuery({query:F,data:{me:t}})}}).then(function(e){var n=e.data.signIn,a=n.token;n.me;A.a.set("token",a),t.props.history.push("/games")}).catch(function(e){console.log(">>>> mutate error: ",{error:e})})},t}return Object(k.a)(n,e),Object(j.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password;return r.a.createElement(Yn,null,r.a.createElement(u.m.Container,null,function(n){return r.a.createElement(zt,null,r.a.createElement(Yt,{visible:!0}),r.a.createElement(Kt,Object.assign({fade:!0,slide:!0},n,{visible:!0}),r.a.createElement("h3",null,"Sign In"),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"username",placeholder:"email or username",value:t,onChange:e.handleOnChange("username")})),r.a.createElement(u.e,{marginBottom:"1rem"},r.a.createElement(u.j,{id:"password",placeholder:"password",type:"password",value:a,onChange:e.handleOnChange("password")})),r.a.createElement(u.d,{onClick:e.handleOnSignIn,primary:!0},"Sign In"),r.a.createElement(Mt,{to:"/"},"go to home page")))}))}}]),n}(a.Component),Ht=Object(i.graphql)(tn)(fe(Gt)),Mt=Object(u.r)(w.a)(Dt()),zt=u.r.div(Qt(),Object(b.b)("grayscale",-2)),Kt=Object(u.r)(u.m)(_t(),Object(b.b)("grayscale",-2)),Yt=Object(u.r)(u.a)(Rt()),Vt=function(e,n){return!!e&&!(n&&!n.includes(e.role))},Wt=function(e){var n=e.me;return r.a.createElement("main",null,r.a.createElement(Te.a,null,r.a.createElement(qe.a,{exact:!0,path:"/",component:Ne}),r.a.createElement(qe.a,{path:"/games",component:Wn}),r.a.createElement(qe.a,{path:"/admin",render:function(e){return Vt(n,[he.ADMIN])?r.a.createElement(lt,e):r.a.createElement(Le.a,{to:"/sign-in"})}}),r.a.createElement(qe.a,{path:"/agent",render:function(e){return Vt(n,[he.AGENT,he.ADMIN])?r.a.createElement(Ut,e):r.a.createElement(Le.a,{to:"/sign-in"})}}),r.a.createElement(qe.a,{path:"/schedule",component:Ft}),r.a.createElement(qe.a,{path:"/sign-in",component:Ht})))},Jt=function(){return r.a.createElement(i.Query,{query:F,fetchPolicy:"network-only"},function(e){e.client,e.loading;var n=e.data,t=Object(v.get)(n,["me"]);return r.a.createElement("div",null,r.a.createElement($e,{me:t}),r.a.createElement(Wt,{me:t}),r.a.createElement(Xe,null))})},Xt=t(52),Zt=t(76),ea=t(73),na=t(74),ta=t(112),aa=Object(Zt.a)({uri:"http://itkartell.ru:5000/graphql"}),ra=Object(ea.a)(function(e,n){var t=n.headers,a=A.a.get("token");return{headers:Object(s.a)({},t,{Authorization:a||""})}}),ca=Object(na.a)(function(e){var n=e.graphQLErrors,t=e.networkError,a=function(e){var n=e.graphQLErrors,t=e.networkError;return n?n.map(function(e){switch(e.extensions.code){case"UNAUTHENTICATED":e.statusCode=401;break;case"FORBIDDEN":e.statusCode=403}return e}):[t]}({graphQLErrors:n,networkError:t});console.log("^^^^ errors handler: ",{graphQLErrors:n,networkError:t}),a.map(function(e){401===e.statusCode&&(A.a.set("token",""),window.location.href="/sign-in")})}),oa=new Xt.a({link:ca.concat(ra.concat(aa)),cache:new ta.a});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(pe,null,r.a.createElement(i.ApolloProvider,{client:oa},r.a.createElement(u.o,{theme:p},r.a.createElement(Jt,null))))),document.getElementById("root")),window.client=oa,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,n,t){e.exports=t(101)},92:function(e,n,t){}},[[79,2,1]]]);
//# sourceMappingURL=main.e9e520d8.chunk.js.map